<!--<style>
    .app-modal-window .modal-dialog {
        width: 1200px;
    }
</style>-->

<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>Inversao</h2>
        <ol class="breadcrumb">
            <li>
                <a ui-sref="principal.instutucional">Home</a>
            </li>
            <li>
                <a>Alertas</a>
            </li>
            <li class="active">
                <strong>Inversao</strong>
            </li>
        </ol>
    </div>
    <div class="col-lg-2">
    </div>
</div>
<div class="wrapper wrapper-content animated fadeInRight" ng-controller="inversaoCtrl">
    
    <div class="row animated fadeIn" ng-show="produtosInversao.length > 0">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Alerta - <strong>Inversao (Produto)</strong></h5>
                    <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                    <table class="table table-striped table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>CdProduto</th>
                                <th>Produto</th>
                                <th>Loja</th>
                                <th>Estoque</th>
                                <th>Data Alerta</th>
                                <th>Status</th>
                                <th><button type="button" class="btn btn-sm btn-outline btn-danger btn-rounded" ng-click="cadastrarObsTodos(produtosInversao)"><i class="fa fa-edit"> Edit</i></button></th>
                                <th><button type="button" class="btn btn-sm btn-outline btn-danger btn-rounded" ng-click="quarentenaTodos(produtosInversao)"><i class="fa fa-ban"> Quarantine</i></button></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="produtoInversao in produtosInversao" ng-class="produtoInversao.AlertasQuarentena.length > 0 ? 'danger': ''">
                                <td>{{produtoInversao.CdProduto}}</td>
                                <td>{{produtoInversao.NomeProduto}}</td>
                                <td>{{produtoInversao.Pessoa.NomePessoa}}</td>
                                <td>{{produtoInversao.QtdEstoque}}</td>
                                <td>{{produtoInversao.UltData | date:'dd/MM/yyyy'}}</td>

                                <td>
                                    <label ng-class="produtoInversao.AlertaStatus.nomeStatus == 'Novo' ?
                                           'badge badge-success' :
                                           (produtoInversao.AlertaStatus.nomeStatus == 'Concluido' ?
                                           'badge badge-primary' :
                                           (produtoInversao.AlertaStatus.nomeStatus == 'Analise' ?
                                           'badge badge-info' :
                                           'badge badge-danger'))">
                                        {{produtoInversao.AlertaStatus.nomeStatus}}
                                    </label>
                                </td>
                                <td class="icon-td">
                                    <button type="button" class="btn btn-sm btn-outline btn-info btn-rounded" ng-click="cadastrarObs(produtoInversao)"><i class="fa fa-edit"> Edit</i></button>
                                </td>
                                <td class="icon-td">
                                    <button type="button" class="btn btn-sm btn-outline btn-warning btn-rounded" ng-click="quarentena(produtoInversao)"><i class="fa fa-ban"> Quarantine</i></button>
                                </td>
                                <td class="icon-td">
                                    <button type="button" class="btn btn-sm btn-outline btn-success btn-rounded" ng-click="historico(produtoInversao)"><i class="fa fa-comments-o"> Historic</i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>Alerta - <strong>Inversao (Lista)</strong></h5>
                    <div ibox-tools></div>
                </div>
                <div class="ibox-content">

                    <table datatable="ng" dt-options="dtOptions" class="table table-striped table-bordered table-hover dataTables-example">
                        <thead>
                            <tr>
                                <th>Codigo</th>
                                <th>Produto</th>
                                <th>Abertos</th>
                                <th>Severidade</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="inversao in inversoes | reverse" ng-class="inversao.InQuarentena == 1 ? 'danger': ''">
                                <td>{{inversao.cdProduto}}</td>
                                <td>{{inversao.Produto}}</td>
                                <td>{{inversao.Abertos}}</td>
                                <td>{{inversao.Severidade}}</td>
                                <td>
                                    <button type="button" class="btn btn-sm btn-outline btn-primary btn-rounded" ng-click="visualizar(inversao)"><i class="fa fa-eye"> Visualizar</i></button>
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>